{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 12, "column": 0}, "map": {"version":3,"sources":["file:///Users/amalegalsolutions/Desktop/jivoenergy/src/components/HexedGlobe.tsx"],"sourcesContent":["'use client'\nimport React, { useEffect, useRef, useState } from 'react';\nimport Globe, { GlobeMethods } from 'react-globe.gl';\nimport * as d3 from 'd3';\n\n// Default GeoJSON data for countries\nimport countriesGeoJson from '@/data/countries.json';\n\ninterface HexedGlobeProps {\n  countryGeoJsonUrl?: string;\n  hexPolygonResolution?: number;\n  hexPolygonColor?: string | ((d: any) => string);\n  onCountryClick?: (country: any, coords: { lat: number; lng: number; altitude: number }) => void;\n  onCountryHover?: (country: any | null, prevCountry: any | null) => void;\n}\n\nexport default function HexedGlobe({\n  countryGeoJsonUrl,\n  hexPolygonResolution = 4,\n  hexPolygonColor,\n  onCountryClick,\n  onCountryHover,\n}: HexedGlobeProps) {\n  const globeRef = useRef<GlobeMethods>(undefined);\n  const [countries, setCountries] = useState<any[]>([]);\n  const [hoveredCountry, setHoveredCountry] = useState<any | null>(null);\n\n  // Color scale for countries\n  const colorScale = d3.scaleOrdinal(d3.schemeSet3);\n\n  // Fetch or use default GeoJSON data\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        const data = countryGeoJsonUrl\n          ? await fetch(countryGeoJsonUrl).then(res => res.json())\n          : countriesGeoJson;\n        setCountries(data.features);\n      } catch (error) {\n        console.error('Error loading country data:', error);\n      }\n    };\n    fetchData();\n  }, [countryGeoJsonUrl]);\n\n  // Initialize globe settings\n  useEffect(() => {\n    if (globeRef.current) {\n      // Auto-rotate\n      (globeRef.current as any).controls().autoRotate = true;\n      (globeRef.current as any).controls().autoRotateSpeed = 0.5;\n      \n      // Set initial camera position\n      (globeRef.current as any).pointOfView({\n        lat: 0,\n        lng: 0,\n        altitude: 2\n      });\n\n      // Enable zoom and pan\n      (globeRef.current as any).controls().enableZoom = true;\n      (globeRef.current as any).controls().enablePan = true;\n    }\n  }, []);\n\n  // Handle country hover\n  const handleCountryHover = (country: any | null, prevCountry: any | null) => {\n    setHoveredCountry(country);\n    if (onCountryHover) {\n      onCountryHover(country, prevCountry);\n    }\n  };\n\n  // Handle country click\n  const handleCountryClick = (country: any, event: MouseEvent, coords: { lat: number; lng: number; altitude: number }) => {\n    if (onCountryClick) {\n      onCountryClick(country, coords);\n    }\n  };\n\n  return (\n    <div style={{ width: '100%', height: '100%', position: 'relative' }}>\n      <Globe\n        ref={globeRef}\n        globeImageUrl=\"//unpkg.com/three-globe/example/img/earth-blue-marble.jpg\"\n        bumpImageUrl=\"//unpkg.com/three-globe/example/img/earth-topology.png\"\n        backgroundImageUrl=\"//unpkg.com/three-globe/example/img/night-sky.png\"\n        hexPolygonsData={countries}\n        hexPolygonGeoJsonGeometry=\"geometry\"\n        hexPolygonLabel={(d: any) => d.properties.NAME}\n        hexPolygonColor={hexPolygonColor || ((d: any) => colorScale(d.properties.ISO_A3))}\n        hexPolygonAltitude={0.001}\n        hexPolygonResolution={hexPolygonResolution}\n        hexPolygonMargin={0.1}\n        hexPolygonUseDots={false}\n        hexPolygonsTransitionDuration={300}\n        onHexPolygonClick={handleCountryClick}\n        onHexPolygonHover={handleCountryHover}\n      />\n      {hoveredCountry && (\n        <div\n          style={{\n            position: 'absolute',\n            top: '10px',\n            left: '10px',\n            backgroundColor: 'rgba(255, 255, 255, 0.9)',\n            padding: '10px',\n            borderRadius: '5px',\n            boxShadow: '0 2px 4px rgba(0,0,0,0.2)',\n            zIndex: 1000,\n          }}\n        >\n          <h3 style={{ margin: 0 }}>{hoveredCountry.properties.NAME}</h3>\n          <p style={{ margin: '5px 0 0 0' }}>\n            ISO: {hoveredCountry.properties.ISO_A3}\n          </p>\n        </div>\n      )}\n    </div>\n  );\n} "],"names":[],"mappings":";;;;AACA;AACA;AACA;AAAA;AAAA;AAEA,qCAAqC;AACrC;;;AANA;;;;;AAgBe,SAAS,WAAW,EACjC,iBAAiB,EACjB,uBAAuB,CAAC,EACxB,eAAe,EACf,cAAc,EACd,cAAc,EACE;;IAChB,MAAM,WAAW,CAAA,GAAA,6JAAA,CAAA,SAAM,AAAD,EAAgB;IACtC,MAAM,CAAC,WAAW,aAAa,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAS,EAAE;IACpD,MAAM,CAAC,gBAAgB,kBAAkB,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAc;IAEjE,4BAA4B;IAC5B,MAAM,aAAa,CAAA,GAAA,2LAAA,CAAA,eAAe,AAAD,EAAE,kNAAA,CAAA,aAAa;IAEhD,oCAAoC;IACpC,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;gCAAE;YACR,MAAM;kDAAY;oBAChB,IAAI;wBACF,MAAM,OAAO,oBACT,MAAM,MAAM,mBAAmB,IAAI;8DAAC,CAAA,MAAO,IAAI,IAAI;+DACnD,gGAAA,CAAA,UAAgB;wBACpB,aAAa,KAAK,QAAQ;oBAC5B,EAAE,OAAO,OAAO;wBACd,QAAQ,KAAK,CAAC,+BAA+B;oBAC/C;gBACF;;YACA;QACF;+BAAG;QAAC;KAAkB;IAEtB,4BAA4B;IAC5B,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;gCAAE;YACR,IAAI,SAAS,OAAO,EAAE;gBACpB,cAAc;gBACb,SAAS,OAAO,CAAS,QAAQ,GAAG,UAAU,GAAG;gBACjD,SAAS,OAAO,CAAS,QAAQ,GAAG,eAAe,GAAG;gBAEvD,8BAA8B;gBAC7B,SAAS,OAAO,CAAS,WAAW,CAAC;oBACpC,KAAK;oBACL,KAAK;oBACL,UAAU;gBACZ;gBAEA,sBAAsB;gBACrB,SAAS,OAAO,CAAS,QAAQ,GAAG,UAAU,GAAG;gBACjD,SAAS,OAAO,CAAS,QAAQ,GAAG,SAAS,GAAG;YACnD;QACF;+BAAG,EAAE;IAEL,uBAAuB;IACvB,MAAM,qBAAqB,CAAC,SAAqB;QAC/C,kBAAkB;QAClB,IAAI,gBAAgB;YAClB,eAAe,SAAS;QAC1B;IACF;IAEA,uBAAuB;IACvB,MAAM,qBAAqB,CAAC,SAAc,OAAmB;QAC3D,IAAI,gBAAgB;YAClB,eAAe,SAAS;QAC1B;IACF;IAEA,qBACE,6LAAC;QAAI,OAAO;YAAE,OAAO;YAAQ,QAAQ;YAAQ,UAAU;QAAW;;0BAChE,6LAAC,wKAAA,CAAA,UAAK;gBACJ,KAAK;gBACL,eAAc;gBACd,cAAa;gBACb,oBAAmB;gBACnB,iBAAiB;gBACjB,2BAA0B;gBAC1B,iBAAiB,CAAC,IAAW,EAAE,UAAU,CAAC,IAAI;gBAC9C,iBAAiB,mBAAmB,CAAC,CAAC,IAAW,WAAW,EAAE,UAAU,CAAC,MAAM,CAAC;gBAChF,oBAAoB;gBACpB,sBAAsB;gBACtB,kBAAkB;gBAClB,mBAAmB;gBACnB,+BAA+B;gBAC/B,mBAAmB;gBACnB,mBAAmB;;;;;;YAEpB,gCACC,6LAAC;gBACC,OAAO;oBACL,UAAU;oBACV,KAAK;oBACL,MAAM;oBACN,iBAAiB;oBACjB,SAAS;oBACT,cAAc;oBACd,WAAW;oBACX,QAAQ;gBACV;;kCAEA,6LAAC;wBAAG,OAAO;4BAAE,QAAQ;wBAAE;kCAAI,eAAe,UAAU,CAAC,IAAI;;;;;;kCACzD,6LAAC;wBAAE,OAAO;4BAAE,QAAQ;wBAAY;;4BAAG;4BAC3B,eAAe,UAAU,CAAC,MAAM;;;;;;;;;;;;;;;;;;;AAMlD;GAxGwB;KAAA","debugId":null}}]
}